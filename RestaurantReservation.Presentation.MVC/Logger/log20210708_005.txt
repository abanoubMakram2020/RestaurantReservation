2021-07-08 15:03:06.618 +02:00 [INF] Executing ViewResult, running view Index.
2021-07-08 15:03:06.766 +02:00 [INF] Executed ViewResult - view Index executed in 150.0748ms.
2021-07-08 15:03:07.229 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:07.276 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:07.320 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:07.408 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:07.481 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:07.502 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:07.544 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:10.205 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-07-08 15:03:10.205 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-07-08 15:03:10.205 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-07-08 15:03:10.206 +02:00 [INF] User logged out.
2021-07-08 15:03:10.219 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-07-08 15:03:10.226 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-07-08 15:03:13.921 +02:00 [INF] Executing RedirectResult, redirecting to https://localhost:44342/Identity/Account/Login?ReturnUrl=%2FReservation%3Fpage%3D%252F.
2021-07-08 15:03:13.929 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-07-08 15:03:16.260 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-07-08 15:03:16.269 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-07-08 15:03:17.547 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 15:03:17.556 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-08 15:03:17.572 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-07-08 15:03:17.573 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-07-08 15:03:17.584 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ResturantReservationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 15:03:17.592 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__date_Data_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ClientName], [r].[Note], [r].[NumberOfPeople], [r].[ReservationDate], [r].[TableNo], [t].[Id], [t].[No], [t0].[Id], [t0].[FoodTypeId], [t0].[ReservationId], [t0].[Id0], [t0].[FoodNameAr], [t0].[FoodNameEn], [t0].[FoodSellUnit]
FROM [Reservation] AS [r]
INNER JOIN [Table] AS [t] ON [r].[TableNo] = [t].[Id]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[FoodTypeId], [r0].[ReservationId], [f].[Id] AS [Id0], [f].[FoodNameAr], [f].[FoodNameEn], [f].[FoodSellUnit]
    FROM [ReservationFoods] AS [r0]
    INNER JOIN [FoodType] AS [f] ON [r0].[FoodTypeId] = [f].[Id]
) AS [t0] ON [r].[Id] = [t0].[ReservationId]
WHERE CONVERT(date, [r].[ReservationDate]) = @__date_Data_0
ORDER BY [r].[Id], [t].[Id], [t0].[Id], [t0].[Id0]
2021-07-08 15:03:17.598 +02:00 [INF] Executing ViewResult, running view Index.
2021-07-08 15:03:17.605 +02:00 [INF] Executed ViewResult - view Index executed in 8.2846ms.
2021-07-08 15:03:17.756 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:17.770 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:17.781 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:17.791 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:17.803 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:17.817 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:17.828 +02:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-07-08 15:03:20.809 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-07-08 15:03:20.809 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-07-08 15:03:20.809 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-07-08 15:03:20.809 +02:00 [INF] User logged out.
2021-07-08 15:03:20.818 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-07-08 15:03:20.825 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-07-08 15:03:22.000 +02:00 [INF] Executing RedirectResult, redirecting to https://localhost:44342/Identity/Account/Login?ReturnUrl=%2FReservation%3Fpage%3D%252F.
2021-07-08 15:03:22.017 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-07-08 16:58:52.259 +02:00 [INF] User profile is available. Using 'C:\Users\A.Makram\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-08 16:58:52.576 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-08 16:58:52.577 +02:00 [INF] Hosting environment: Development
2021-07-08 16:58:52.577 +02:00 [INF] Content root path: D:\RestaurantReservation\RestaurantReservation.Presentation.MVC
2021-07-08 16:58:52.641 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44342/ - -
2021-07-08 16:58:52.726 +02:00 [INF] Executing endpoint '/Index'
2021-07-08 16:58:52.804 +02:00 [INF] Route matched with {page = "/Index", action = "", controller = "", area = ""}. Executing page /Index
2021-07-08 16:58:52.815 +02:00 [INF] Executing handler method RestaurantReservation.Presentation.MVC.Pages.IndexModel.OnGet - ModelState is "Valid"
2021-07-08 16:58:52.818 +02:00 [INF] Executed handler method OnGet, returned result .
2021-07-08 16:58:52.823 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-07-08 16:58:52.823 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-07-08 16:58:53.108 +02:00 [INF] Executed page /Index in 299.7045ms
2021-07-08 16:58:53.110 +02:00 [INF] Executed endpoint '/Index'
2021-07-08 16:58:53.114 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.<>c__DisplayClass8_0.<CreateActivateInfo>b__1(ViewContext context)
   at Microsoft.Extensions.Internal.PropertyActivator`1.Activate(Object instance, TContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper.RenderPartialViewAsync(TextWriter writer, Object model, IView view)
   at Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at RestaurantReservation.Presentation.MVC.Pages.Shared.Pages_Shared__Layout.<ExecuteAsync>b__23_1()
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at RestaurantReservation.Presentation.MVC.Pages.Shared.Pages_Shared__Layout.ExecuteAsync()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-07-08 16:58:54.380 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 16:58:54.852 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 16:58:54.928 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-07-08 16:58:55.019 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 16:58:55.028 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-07-08 16:58:55.051 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-07-08 16:58:55.214 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ResturantReservationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 16:58:55.230 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 16:58:55.245 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-07-08 16:58:55.486 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 16:58:55.488 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-07-08 16:58:55.494 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-07-08 16:58:55.511 +02:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.Views.DatabaseErrorPage.ExecuteAsync()
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)
2021-07-08 16:58:55.537 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44342/ - - - 500 - text/html;+charset=utf-8 2902.4054ms
2021-07-08 17:01:17.997 +02:00 [INF] User profile is available. Using 'C:\Users\A.Makram\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-08 17:01:18.314 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-08 17:01:18.315 +02:00 [INF] Hosting environment: Development
2021-07-08 17:01:18.315 +02:00 [INF] Content root path: D:\RestaurantReservation\RestaurantReservation.Presentation.MVC
2021-07-08 17:01:18.368 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44342/ - -
2021-07-08 17:01:18.451 +02:00 [INF] Executing endpoint '/Index'
2021-07-08 17:01:18.534 +02:00 [INF] Route matched with {page = "/Index", action = "", controller = "", area = ""}. Executing page /Index
2021-07-08 17:01:18.550 +02:00 [INF] Executing handler method RestaurantReservation.Presentation.MVC.Pages.IndexModel.OnGet - ModelState is "Valid"
2021-07-08 17:01:18.556 +02:00 [INF] Executed handler method OnGet, returned result .
2021-07-08 17:01:18.562 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-07-08 17:01:18.563 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-07-08 17:01:18.823 +02:00 [INF] Executed page /Index in 284.4459ms
2021-07-08 17:01:18.825 +02:00 [INF] Executed endpoint '/Index'
2021-07-08 17:01:18.832 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.<>c__DisplayClass8_0.<CreateActivateInfo>b__1(ViewContext context)
   at Microsoft.Extensions.Internal.PropertyActivator`1.Activate(Object instance, TContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper.RenderPartialViewAsync(TextWriter writer, Object model, IView view)
   at Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at RestaurantReservation.Presentation.MVC.Pages.Shared.Pages_Shared__Layout.<ExecuteAsync>b__23_1()
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at RestaurantReservation.Presentation.MVC.Pages.Shared.Pages_Shared__Layout.ExecuteAsync()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-07-08 17:01:20.063 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 17:01:20.539 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 17:01:20.599 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-07-08 17:01:20.668 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 17:01:20.676 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-07-08 17:01:20.692 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-07-08 17:01:20.884 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ResturantReservationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 17:01:20.902 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 17:01:20.906 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-07-08 17:01:21.144 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 17:01:21.146 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-07-08 17:01:21.150 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-07-08 17:01:21.176 +02:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.Views.DatabaseErrorPage.ExecuteAsync()
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)
2021-07-08 17:01:21.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44342/ - - - 500 - text/html;+charset=utf-8 2840.5740ms
2021-07-08 17:02:00.558 +02:00 [INF] User profile is available. Using 'C:\Users\A.Makram\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-08 17:02:00.989 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-08 17:02:00.990 +02:00 [INF] Hosting environment: Development
2021-07-08 17:02:00.990 +02:00 [INF] Content root path: D:\RestaurantReservation\RestaurantReservation.Presentation.MVC
2021-07-08 17:02:01.074 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44342/ - -
2021-07-08 17:02:01.166 +02:00 [INF] Executing endpoint '/Index'
2021-07-08 17:02:01.260 +02:00 [INF] Route matched with {page = "/Index", action = "", controller = "", area = ""}. Executing page /Index
2021-07-08 17:02:01.275 +02:00 [INF] Executing handler method RestaurantReservation.Presentation.MVC.Pages.IndexModel.OnGet - ModelState is "Valid"
2021-07-08 17:02:01.282 +02:00 [INF] Executed handler method OnGet, returned result .
2021-07-08 17:02:01.288 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-07-08 17:02:01.289 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-07-08 17:02:01.591 +02:00 [INF] Executed page /Index in 323.2375ms
2021-07-08 17:02:01.594 +02:00 [INF] Executed endpoint '/Index'
2021-07-08 17:02:01.598 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.<>c__DisplayClass8_0.<CreateActivateInfo>b__1(ViewContext context)
   at Microsoft.Extensions.Internal.PropertyActivator`1.Activate(Object instance, TContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper.RenderPartialViewAsync(TextWriter writer, Object model, IView view)
   at Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at RestaurantReservation.Presentation.MVC.Pages.Shared.Pages_Shared__Layout.<ExecuteAsync>b__23_1()
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at RestaurantReservation.Presentation.MVC.Pages.Shared.Pages_Shared__Layout.ExecuteAsync()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-07-08 17:02:03.137 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 17:02:03.762 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 17:02:03.873 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-07-08 17:02:03.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 17:02:03.982 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-07-08 17:02:04.000 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-07-08 17:02:04.202 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ResturantReservationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 17:02:04.216 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 17:02:04.228 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-07-08 17:02:04.497 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-07-08 17:02:04.499 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-07-08 17:02:04.502 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-07-08 17:02:04.518 +02:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.Views.DatabaseErrorPage.ExecuteAsync()
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseDeveloperPageExceptionFilter.HandleExceptionAsync(ErrorContext errorContext, Func`2 next)
2021-07-08 17:02:04.540 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44342/ - - - 500 - text/html;+charset=utf-8 3471.0134ms
2021-07-08 17:04:43.528 +02:00 [INF] User profile is available. Using 'C:\Users\A.Makram\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-08 17:04:43.848 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-08 17:04:43.849 +02:00 [INF] Hosting environment: Development
2021-07-08 17:04:43.849 +02:00 [INF] Content root path: D:\RestaurantReservation\RestaurantReservation.Presentation.MVC
2021-07-08 17:04:43.909 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44342/ - -
2021-07-08 17:04:44.012 +02:00 [INF] Executing endpoint '/Index'
2021-07-08 17:04:44.099 +02:00 [INF] Route matched with {page = "/Index", action = "", controller = "", area = ""}. Executing page /Index
2021-07-08 17:04:44.111 +02:00 [INF] Executing handler method RestaurantReservation.Presentation.MVC.Pages.IndexModel.OnGet - ModelState is "Valid"
2021-07-08 17:04:44.114 +02:00 [INF] Executed handler method OnGet, returned result .
2021-07-08 17:04:44.120 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-07-08 17:04:44.121 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-07-08 17:04:44.509 +02:00 [INF] Executed page /Index in 404.2116ms
2021-07-08 17:04:44.511 +02:00 [INF] Executed endpoint '/Index'
2021-07-08 17:04:44.540 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44342/ - - - 200 - text/html;+charset=utf-8 630.6884ms
2021-07-08 17:04:57.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44342/Identity/Account/Register - -
2021-07-08 17:04:57.511 +02:00 [INF] Executing endpoint '/Account/Register'
2021-07-08 17:04:57.553 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-07-08 17:04:57.567 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-07-08 17:04:57.570 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-07-08 17:04:57.570 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-07-08 17:04:57.570 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-07-08 17:04:57.640 +02:00 [INF] Executed page /Account/Register in 86.8267ms
2021-07-08 17:04:57.640 +02:00 [INF] Executed endpoint '/Account/Register'
2021-07-08 17:04:57.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44342/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 141.6530ms
2021-07-08 17:04:59.696 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44342/Identity/Account/Login - -
2021-07-08 17:04:59.710 +02:00 [INF] Executing endpoint '/Account/Login'
2021-07-08 17:04:59.716 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-07-08 17:04:59.725 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-07-08 17:04:59.737 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-07-08 17:04:59.737 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-07-08 17:04:59.737 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-07-08 17:04:59.737 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-07-08 17:04:59.769 +02:00 [INF] Executed page /Account/Login in 52.8831ms
2021-07-08 17:04:59.769 +02:00 [INF] Executed endpoint '/Account/Login'
2021-07-08 17:04:59.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44342/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 74.7069ms
2021-07-08 17:05:01.125 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44342/Identity/Account/Login application/x-www-form-urlencoded 258
2021-07-08 17:05:01.126 +02:00 [INF] Executing endpoint '/Account/Login'
2021-07-08 17:05:01.126 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-07-08 17:05:01.187 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnPostAsync - ModelState is "Valid"
2021-07-08 17:05:02.332 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 17:05:03.328 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-08 17:05:03.603 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-07-08 17:05:03.620 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-07-08 17:05:03.623 +02:00 [INF] User logged in.
2021-07-08 17:05:03.627 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-07-08 17:05:03.630 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-07-08 17:05:03.632 +02:00 [INF] Executed page /Account/Login in 2505.5226ms
2021-07-08 17:05:03.633 +02:00 [INF] Executed endpoint '/Account/Login'
2021-07-08 17:05:03.641 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44342/Identity/Account/Login application/x-www-form-urlencoded 258 - 302 - - 2516.1725ms
2021-07-08 17:05:03.643 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44342/ - -
2021-07-08 17:05:03.648 +02:00 [INF] Executing endpoint '/Index'
2021-07-08 17:05:03.648 +02:00 [INF] Route matched with {page = "/Index", action = "", controller = "", area = ""}. Executing page /Index
2021-07-08 17:05:03.649 +02:00 [INF] Executing handler method RestaurantReservation.Presentation.MVC.Pages.IndexModel.OnGet - ModelState is "Valid"
2021-07-08 17:05:03.649 +02:00 [INF] Executed handler method OnGet, returned result .
2021-07-08 17:05:03.649 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-07-08 17:05:03.649 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-07-08 17:05:03.658 +02:00 [INF] Executed page /Index in 9.8172ms
2021-07-08 17:05:03.658 +02:00 [INF] Executed endpoint '/Index'
2021-07-08 17:05:03.661 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44342/ - - - 200 - text/html;+charset=utf-8 17.8745ms
2021-07-08 17:05:05.315 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44342/Reservation - -
2021-07-08 17:05:05.325 +02:00 [INF] Authorization was successful.
2021-07-08 17:05:05.328 +02:00 [INF] Executing endpoint 'RestaurantReservation.Presentation.MVC.Controllers.ReservationController.Index (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:05.340 +02:00 [INF] Route matched with {action = "Index", controller = "Reservation", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller RestaurantReservation.Presentation.MVC.Controllers.ReservationController (RestaurantReservation.Presentation.MVC).
2021-07-08 17:05:05.514 +02:00 [INF] Entity Framework Core 5.0.7 initialized 'ResturantReservationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-08 17:05:05.692 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__date_Data_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[ClientName], [r].[Note], [r].[NumberOfPeople], [r].[ReservationDate], [r].[TableNo], [t].[Id], [t].[No], [t0].[Id], [t0].[FoodTypeId], [t0].[ReservationId], [t0].[Id0], [t0].[FoodNameAr], [t0].[FoodNameEn], [t0].[FoodSellUnit]
FROM [Reservation] AS [r]
INNER JOIN [Table] AS [t] ON [r].[TableNo] = [t].[Id]
LEFT JOIN (
    SELECT [r0].[Id], [r0].[FoodTypeId], [r0].[ReservationId], [f].[Id] AS [Id0], [f].[FoodNameAr], [f].[FoodNameEn], [f].[FoodSellUnit]
    FROM [ReservationFoods] AS [r0]
    INNER JOIN [FoodType] AS [f] ON [r0].[FoodTypeId] = [f].[Id]
) AS [t0] ON [r].[Id] = [t0].[ReservationId]
WHERE CONVERT(date, [r].[ReservationDate]) = @__date_Data_0
ORDER BY [r].[Id], [t].[Id], [t0].[Id], [t0].[Id0]
2021-07-08 17:05:05.847 +02:00 [INF] Executed action RestaurantReservation.Presentation.MVC.Controllers.ReservationController.Index (RestaurantReservation.Presentation.MVC) in 506.7541ms
2021-07-08 17:05:05.847 +02:00 [INF] Executed endpoint 'RestaurantReservation.Presentation.MVC.Controllers.ReservationController.Index (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:05.853 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44342/Reservation - - - 200 - text/html;+charset=utf-8 537.7631ms
2021-07-08 17:05:06.145 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 16
2021-07-08 17:05:06.147 +02:00 [INF] Executing endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.150 +02:00 [INF] Route matched with {action = "ReadFromResources", controller = "Common", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.JsonResult ReadFromResources(RestaurantReservation.Presentation.MVC.Controllers.DTO) on controller RestaurantReservation.Presentation.MVC.Controllers.CommonController (RestaurantReservation.Presentation.MVC).
2021-07-08 17:05:06.222 +02:00 [INF] Executed action RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC) in 71.2886ms
2021-07-08 17:05:06.222 +02:00 [INF] Executed endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.226 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 16 - 200 - application/json;+charset=utf-8 81.4473ms
2021-07-08 17:05:06.237 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 17
2021-07-08 17:05:06.238 +02:00 [INF] Executing endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.238 +02:00 [INF] Route matched with {action = "ReadFromResources", controller = "Common", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.JsonResult ReadFromResources(RestaurantReservation.Presentation.MVC.Controllers.DTO) on controller RestaurantReservation.Presentation.MVC.Controllers.CommonController (RestaurantReservation.Presentation.MVC).
2021-07-08 17:05:06.240 +02:00 [INF] Executed action RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC) in 1.8211ms
2021-07-08 17:05:06.240 +02:00 [INF] Executed endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.241 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 17 - 200 - application/json;+charset=utf-8 3.7479ms
2021-07-08 17:05:06.248 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 24
2021-07-08 17:05:06.248 +02:00 [INF] Executing endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.249 +02:00 [INF] Route matched with {action = "ReadFromResources", controller = "Common", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.JsonResult ReadFromResources(RestaurantReservation.Presentation.MVC.Controllers.DTO) on controller RestaurantReservation.Presentation.MVC.Controllers.CommonController (RestaurantReservation.Presentation.MVC).
2021-07-08 17:05:06.250 +02:00 [INF] Executed action RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC) in 1.3382ms
2021-07-08 17:05:06.250 +02:00 [INF] Executed endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.251 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 24 - 200 - application/json;+charset=utf-8 3.3516ms
2021-07-08 17:05:06.286 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 53
2021-07-08 17:05:06.286 +02:00 [INF] Executing endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.287 +02:00 [INF] Route matched with {action = "ReadFromResources", controller = "Common", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.JsonResult ReadFromResources(RestaurantReservation.Presentation.MVC.Controllers.DTO) on controller RestaurantReservation.Presentation.MVC.Controllers.CommonController (RestaurantReservation.Presentation.MVC).
2021-07-08 17:05:06.325 +02:00 [INF] Executed action RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC) in 37.7691ms
2021-07-08 17:05:06.325 +02:00 [INF] Executed endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.327 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 53 - 200 - application/json;+charset=utf-8 41.0619ms
2021-07-08 17:05:06.333 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 18
2021-07-08 17:05:06.333 +02:00 [INF] Executing endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.333 +02:00 [INF] Route matched with {action = "ReadFromResources", controller = "Common", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.JsonResult ReadFromResources(RestaurantReservation.Presentation.MVC.Controllers.DTO) on controller RestaurantReservation.Presentation.MVC.Controllers.CommonController (RestaurantReservation.Presentation.MVC).
2021-07-08 17:05:06.335 +02:00 [INF] Executed action RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC) in 0.9756ms
2021-07-08 17:05:06.335 +02:00 [INF] Executed endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.336 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 18 - 200 - application/json;+charset=utf-8 3.2771ms
2021-07-08 17:05:06.343 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 14
2021-07-08 17:05:06.343 +02:00 [INF] Executing endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.344 +02:00 [INF] Route matched with {action = "ReadFromResources", controller = "Common", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.JsonResult ReadFromResources(RestaurantReservation.Presentation.MVC.Controllers.DTO) on controller RestaurantReservation.Presentation.MVC.Controllers.CommonController (RestaurantReservation.Presentation.MVC).
2021-07-08 17:05:06.345 +02:00 [INF] Executed action RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC) in 0.9959ms
2021-07-08 17:05:06.345 +02:00 [INF] Executed endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.346 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 14 - 200 - application/json;+charset=utf-8 3.2065ms
2021-07-08 17:05:06.351 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 27
2021-07-08 17:05:06.352 +02:00 [INF] Executing endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.352 +02:00 [INF] Route matched with {action = "ReadFromResources", controller = "Common", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.JsonResult ReadFromResources(RestaurantReservation.Presentation.MVC.Controllers.DTO) on controller RestaurantReservation.Presentation.MVC.Controllers.CommonController (RestaurantReservation.Presentation.MVC).
2021-07-08 17:05:06.353 +02:00 [INF] Executed action RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC) in 0.6546ms
2021-07-08 17:05:06.353 +02:00 [INF] Executed endpoint 'RestaurantReservation.Presentation.MVC.Controllers.CommonController.ReadFromResources (RestaurantReservation.Presentation.MVC)'
2021-07-08 17:05:06.355 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44342/Common/ReadFromResources application/json; 27 - 200 - application/json;+charset=utf-8 3.3361ms
